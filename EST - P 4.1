âœ… âœ” YES â€” You Can Use â€œNode HTTP Serverâ€ Template in CodeSandbox

CodeSandbox allows outbound HTTP/HTTPS connections, so connecting to MongoDB Atlas works perfectly.

You just need:

â­ Step 1 â€” Create Sandbox

Go to https://codesandbox.io/

Click Create Sandbox

Select Node.js â†’ â€œNode HTTP Serverâ€ template

â­ Step 2 â€” Install Mongoose in CodeSandbox Terminal

Open the built-in terminal:

npm install mongoose


You already did this (good!).

â­ Step 3 â€” Create a File db.js

Inside your workspace, create:

db.js
const mongoose = require("mongoose");

async function connectDB() {
  try {
    await mongoose.connect(
      "mongodb+srv://cloudcu641_db_user:3XR5HumzZ9JRb8dY@cluster0.1p0kcdj.mongodb.net/mydb"
    );
    console.log("MongoDB Connected!");
  } catch (error) {
    console.error("Error:", error);
  }
}

module.exports = connectDB;


âœ” IMPORTANT: Notice we added /mydb at the end
If you donâ€™t add that, Mongoose gives errors.

â­ Step 4 â€” Create Model Product.js
Product.js
const mongoose = require("mongoose");

const productSchema = new mongoose.Schema({
  name: String,
  price: Number,
  category: String
});

module.exports = mongoose.model("Product", productSchema);

â­ Step 5 â€” Update server.js (or index.js)

Replace the HTTP server with CRUD operations:

server.js
const http = require("http");
const connectDB = require("./db");
const Product = require("./Product");

connectDB(); // connect to Atlas

const server = http.createServer(async (req, res) => {
  res.setHeader("Content-Type", "application/json");

  if (req.url === "/add" && req.method === "GET") {
    const p = new Product({
      name: "Laptop",
      price: 60000,
      category: "Electronics"
    });
    await p.save();
    res.end(JSON.stringify({ message: "Product Added", product: p }));
  }

  else if (req.url === "/read" && req.method === "GET") {
    const data = await Product.find();
    res.end(JSON.stringify(data));
  }

  else if (req.url === "/update" && req.method === "GET") {
    const updated = await Product.findOneAndUpdate(
      { name: "Laptop" },
      { price: 65000 },
      { new: true }
    );
    res.end(JSON.stringify({ message: "Updated", updated }));
  }

  else if (req.url === "/delete" && req.method === "GET") {
    const deleted = await Product.findOneAndDelete({ name: "Laptop" });
    res.end(JSON.stringify({ message: "Deleted", deleted }));
  }

  else {
    res.end(JSON.stringify({ message: "Node + Mongoose Server Running" }));
  }
});

server.listen(3000, () => console.log("Server running on 3000"));

â­ Step 6 â€” Run the Server

In CodeSandbox terminal:

node server.js


You will see:

MongoDB Connected!
Server running on 3000

â­ Step 7 â€” Test CRUD in Browser (Right Panel)

Open URLs:

Add product
/add

Read all
/read

Update
/update

Delete
/delete

ğŸ‰ DONE â€” FULL CRUD WORKS ONLINE IN CODESANDBOX
